CONFIG_AHC=y
CONFIG_ALLOC_BUFFERS_IN_4K_CHUNKS=y
CONFIG_AMSS_ERR_LOG=y
CONFIG_ARCH_SONY_KITAKAMI=y
CONFIG_BALANCE_ANON_FILE_RECLAIM=y
CONFIG_BCMDHD_PCIE=y
CONFIG_BCM_WLAN_RAMDUMP=y
CONFIG_BT_BCM43XX=y
# CONFIG_CFG80211_INTERNAL_REGDB is not set
# CONFIG_CHR_DEV_SCH is not set
# CONFIG_CHR_DEV_SG is not set
CONFIG_CIFS=y
# CONFIG_CNSS is not set
# CONFIG_CORESIGHT is not set
CONFIG_CRASH_NOTES=y

# CONFIG_EXT2_FS is not set
# CONFIG_EXT3_FS is not set
CONFIG_FB_MSM_LOGO=y
CONFIG_FB_MSM_MDSS_SPECIFIC_PANEL=y
#CONFIG_FB_MSM_MDSS_XLOG_DEBUG=y
CONFIG_HID_LOGITECH=y
CONFIG_HID_PANTHERLORD=y
CONFIG_HID_SONY=y
# CONFIG_IKCONFIG_PROC is not set
CONFIG_INET_XFRM_MODE_BEET=y
CONFIG_INPUT_BU520X1NVX=y
# CONFIG_INPUT_EVBUG is not set
# CONFIG_INPUT_HBTP_INPUT is not set
CONFIG_IOMMU_FORCE_4K_MAPPINGS=y
CONFIG_IP_MULTICAST=y
CONFIG_UID_STAT=y
CONFIG_JOYSTICK_XPAD_LEDS=y
CONFIG_LDO_VIBRATOR=y
# CONFIG_LEDS_QPNP_FLASH is not set

# CONFIG_MII is not set
CONFIG_MMC_BLOCK_DEFERRED_RESUME=y
CONFIG_MMC_CMD_DEBUG=y
CONFIG_MSM_BCL_SOMC_CTL=y
# CONFIG_MSM_BT_POWER is not set
# CONFIG_MSM_DLOAD_MODE is not set
CONFIG_MSM_FORCE_PANIC_ON_WDOG_BARK=y
CONFIG_MSM_FORCE_WDOG_BITE_ON_PANIC=y

# CONFIG_NFC_QNCI is not set
CONFIG_NLS_UTF8=y
# CONFIG_PFT is not set
# CONFIG_PHYLIB is not set
CONFIG_PINCTRL_SOMC=y
CONFIG_PMI8994_FLASH=y
CONFIG_PON_SOMC_ORG=y
CONFIG_POWERKEY_FORCECRASH=y
CONFIG_QPNP_FG_EXTENSION=y
# CONFIG_QPNP_HAPTIC is not set
CONFIG_QPNP_SMBCHARGER_EXTENSION=y

# CONFIG_SCSI_CONSTANTS is not set
# CONFIG_SCSI_LOGGING is not set
# CONFIG_SCSI_MULTI_LUN is not set
CONFIG_SECURITYFS=y
CONFIG_SECURITY_SELINUX_AVC_EXTRA_INFO=y
CONFIG_SECURITY_SELINUX_BOOTPARAM=y
CONFIG_SECURITY_SELINUX_TRAP=y

CONFIG_SERIAL_MSM_HSL=y
CONFIG_SIM_DETECT=y
CONFIG_SOMC_LCD_OCP_ENABLED=y
CONFIG_SOMC_WIFI_CONTROL=y
CONFIG_SONY_CAM_V4L2=y
CONFIG_SONY_SSM=y
CONFIG_STRICT_DEVMEM=y
CONFIG_TOUCHSCREEN_CLEARPAD=y
# CONFIG_TOUCHSCREEN_SYNAPTICS_DSX_v21 is not set
# CONFIG_USB_ACM is not set
# CONFIG_USB_CCID_BRIDGE is not set
# CONFIG_USB_CI13XXX_MSM is not set
# CONFIG_USB_GADGET_DEBUG_FS is not set
CONFIG_USB_HOST_EXTRA_NOTIFICATION=y

# CONFIG_USB_MON is not set
# CONFIG_USB_STORAGE_ALAUDA is not set
# CONFIG_USB_STORAGE_CYPRESS_ATACB is not set
# CONFIG_USB_STORAGE_DATAFAB is not set
# CONFIG_USB_STORAGE_FREECOM is not set
# CONFIG_USB_STORAGE_ISD200 is not set
# CONFIG_USB_STORAGE_JUMPSHOT is not set
# CONFIG_USB_STORAGE_KARMA is not set
# CONFIG_USB_STORAGE_SDDR09 is not set
# CONFIG_USB_STORAGE_SDDR55 is not set
# CONFIG_USB_STORAGE_USBAT is not set
# CONFIG_USB_USBNET is not set
# CONFIG_USB_VIDEO_CLASS is not set
CONFIG_VFAT_FS_NO_DUALNAMES=y

# CONFIG_WCNSS_MEM_PRE_ALLOC is not set
CONFIG_XFRM_RFC_4868_TRUNCATION=y

# CONFIG_BCMDHD_DEBUG_PAGEALLOC is not set
CONFIG_BCMDHD_PREALLOC_PKTIDMAP=y
CONFIG_BROADCOM_WIFI_RESERVED_MEM=y
CONFIG_CIFS_DEBUG=y
# CONFIG_CIFS_DEBUG2 is not set
# CONFIG_CIFS_DFS_UPCALL is not set
# CONFIG_CIFS_SMB2 is not set
# CONFIG_CIFS_STATS is not set
# CONFIG_CIFS_UPCALL is not set
# CONFIG_CIFS_WEAK_PW_HASH is not set
# CONFIG_CIFS_XATTR is not set
CONFIG_CRASH_LAST_LOGS=y
# CONFIG_DEFAULT_SECURITY_SONY is not set
CONFIG_EXT4_USE_FOR_EXT23=y
# CONFIG_HID_LOGITECH_DJ is not set
# CONFIG_IP_MROUTE is not set
# CONFIG_LOGIG940_FF is not set
# CONFIG_LOGIRUMBLEPAD2_FF is not set
# CONFIG_LOGITECH_FF is not set
# CONFIG_LOGIWHEELS_FF is not set
# CONFIG_MACH_SONY_AOI is not set
# CONFIG_MACH_SONY_AOI_VZW is not set
# CONFIG_MACH_SONY_CDB is not set
# CONFIG_MACH_SONY_CDB2 is not set
# CONFIG_MACH_SONY_IVY is not set
# CONFIG_MACH_SONY_IVY_DCM is not set
# CONFIG_MACH_SONY_IVY_DSDS is not set
# CONFIG_MACH_SONY_IVY_KDDI is not set
# CONFIG_MACH_SONY_IVY_SBM is not set
# CONFIG_MACH_SONY_IVY_VZW is not set
# CONFIG_MACH_SONY_KARIN is not set
# CONFIG_MACH_SONY_KARIN_DCM is not set
# CONFIG_MACH_SONY_KARIN_KDDI is not set
# CONFIG_MACH_SONY_KARIN_WINDY is not set
# CONFIG_MACH_SONY_SATSUKI is not set
# CONFIG_MACH_SONY_SATSUKI_DCM is not set
# CONFIG_MACH_SONY_SATSUKI_DSDS is not set
# CONFIG_MACH_SONY_SUMIRE is not set
# CONFIG_MACH_SONY_SUMIRE_DCM is not set
# CONFIG_MACH_SONY_SUMIRE_DSDS is not set
# CONFIG_MACH_SONY_SUMIRE_KDDI is not set
# CONFIG_MACH_SONY_SUMIRE_SAMBA is not set
# CONFIG_MACH_SONY_SUMIRE_SBM is not set
# CONFIG_MACH_SONY_SUZURAN is not set
# CONFIG_MACH_SONY_SUZURAN_DCM is not set
CONFIG_MMC_CMD_QUEUE_SIZE=256

# CONFIG_PANTHERLORD_FF is not set
CONFIG_SECURITY_SELINUX_BOOTPARAM_VALUE=1
CONFIG_SERIAL_CORE_CONSOLE=y
CONFIG_SERIAL_MSM_HSL_CONSOLE=y
CONFIG_TOUCHSCREEN_CLEARPAD_I2C=y
CONFIG_TOUCHSCREEN_CLEARPAD_RMI_DEV=y

CONFIG_LOCALVERSION="-32.4.A.1.54_Logos_I.2_12_17_batt_t2"
CONFIG_LOCALVERSION_AUTO=n

# bigger buffer for dmesg - default one is too small to get meaningful data
CONFIG_LOG_BUF_SHIFT=21
CONFIG_OOPS_LOG_BUF_SHIFT=19

CONFIG_NLS_CODEPAGE_852=y
CONFIG_NLS_ISO8859_15=y

# Persistent store support
CONFIG_PSTORE=y
CONFIG_PSTORE_CONSOLE=y
CONFIG_PSTORE_PMSG=y
CONFIG_PSTORE_RAM=y

#
# Kernel hacking
#
CONFIG_DEFAULT_MESSAGE_LOGLEVEL=3

CONFIG_BALANCE_ANON_FILE_RECLAIM=y

CONFIG_ARCH_SUPPORTS_MSI=y
CONFIG_ARCH_THREAD_INFO_ALLOCATOR=y

CONFIG_STRICT_MEMORY_RWX=y

# KSM related stuff
# CONFIG_KSM is not set

# MEMCG related stuff
# default off:
# CONFIG_MEMCG_KMEM is not set
# default on (Sony):
# CONFIG_MEMCG is not set
# CONFIG_MEMCG_SWAP is not set
# CONFIG_MEMCG_SWAP_ENABLED is not set
# CONFIG_MM_OWNER is not set

# LMK TNG + LMK Statistics + OOM score notifier
CONFIG_ANDROID_LOW_MEMORY_KILLER=y
CONFIG_ANDROID_LOW_MEMORY_KILLER_TNG=y

# kswapd: limit it to the first 4 cores
# by doing so also avoid an error/issue with vmscan
CONFIG_KSWAPD_CPU_AFFINITY_MASK="f"

CONFIG_NTFS_FS=y
CONFIG_NTFS_RW=y

# exfat opensource driver
CONFIG_EXFAT_FS=y
CONFIG_EXFAT_DEFAULT_CODEPAGE=437
CONFIG_EXFAT_DEFAULT_IOCHARSET="utf8"
# CONFIG_EXFAT_VIRTUAL_XATTR is not set
CONFIG_EXFAT_DISCARD=y
CONFIG_EXFAT_COMPAT_TUXERA=y
# CONFIG_EXFAT_DEBUG is not set

# eCrypt filesystem
CONFIG_ECRYPT_FS=y
CONFIG_WTL_ENCRYPTION_FILTER=y

# Broadcom built-in bluetooth driver
CONFIG_BT_PROTOCOL_DRIVER=m
CONFIG_LINE_DISCIPLINE_DRIVER=m
CONFIG_V4L2_ANT_DRIVER=m
CONFIG_V4L2_FM_DRIVER=m

# TCP Algorithms
CONFIG_TCP_CONG_ADVANCED=y
CONFIG_TCP_CONG_BIC=y
CONFIG_TCP_CONG_CUBIC=y
CONFIG_TCP_CONG_WESTWOOD=y
CONFIG_TCP_CONG_HTCP=y
CONFIG_TCP_CONG_HSTCP=y
CONFIG_TCP_CONG_HYBLA=y
CONFIG_TCP_CONG_VEGAS=y
CONFIG_TCP_CONG_SCALABLE=y
CONFIG_TCP_CONG_LP=y
CONFIG_TCP_CONG_VENO=y
CONFIG_TCP_CONG_YEAH=y
CONFIG_TCP_CONG_ILLINOIS=y
CONFIG_DEFAULT_WESTWOOD=y

#
# DEVFREQ Governors
#
CONFIG_DEVFREQ_GOV_SIMPLE_ONDEMAND=y
CONFIG_DEVFREQ_GOV_PERFORMANCE=y
CONFIG_DEVFREQ_GOV_POWERSAVE=y
CONFIG_DEVFREQ_GOV_USERSPACE=y
CONFIG_DEVFREQ_GOV_CPUFREQ=y
CONFIG_DEVFREQ_GOV_MSM_ADRENO_TZ=y
CONFIG_MSM_BIMC_BWMON=y
CONFIG_DEVFREQ_GOV_MSM_GPUBW_MON=y
CONFIG_DEVFREQ_GOV_MSM_BW_HWMON=y
# CONFIG_DEVFREQ_GOV_MSM_CACHE_HWMON is not set
CONFIG_DEVFREQ_GOV_SPDM_HYP=y

#
# DEVFREQ Drivers
#
CONFIG_DEVFREQ_SIMPLE_DEV=y
CONFIG_MSM_DEVFREQ_DEVBW=y
# CONFIG_SPDM_SCM is not set
CONFIG_DEVFREQ_SPDM=y

# Adreno-Idler
CONFIG_ADRENO_IDLER=y

# CMA, allocating framebuffer, etc. memory [CMA_SIZE_MBYTES 16 -> 32]
CONFIG_CMA_SIZE_MBYTES=32

# Enable Panic on data corruption, if there's data corruption we better
# crash the system as soon as it occurs, otherwise the context is lost
# to track the (potentially fixable) origin down, also it's a
# surefire way to screw up the system anyway
CONFIG_PANIC_ON_DATA_CORRUPTION=y

# watchdog related setup, prefer bark over panicking instantly
# CONFIG_MSM_FORCE_PANIC_ON_WDOG_BARK is not set

# Disable MMC CMD debug feature
# CONFIG_MMC_CMD_DEBUG is not set

# Print scheduling debugging info from sysrq-trigger
# CONFIG_SYSRQ_SCHED_DEBUG is not set

# scheduler tweaks & optimizations
#
# "The ~200 Line Linux Kernel Patch That Does Wonders'
CONFIG_SCHED_AUTOGROUP=y

# Misc
CONFIG_AIO_SSD_ONLY=y

# Build module externally
# CONFIG_WIL6210 is not set
# CONFIG_INPUT_GPIO is not set

# MHL SII8620 and SII8061 support (Sony Stock ROM: build as module, Makefile hack)
# only this way stability & functionality is warranted
CONFIG_FB_MSM_MDSS_HDMI_MHL_SII8620_8061=y

# RCU Subsystem
#
CONFIG_TREE_PREEMPT_RCU=y
CONFIG_PREEMPT_RCU=y
CONFIG_RCU_STALL_COMMON=y
CONFIG_RCU_FANOUT=64
CONFIG_RCU_FANOUT_LEAF=16
# CONFIG_RCU_FANOUT_EXACT is not set
CONFIG_RCU_FAST_NO_HZ=y
# CONFIG_TREE_RCU_TRACE is not set
CONFIG_RCU_BOOST=y
CONFIG_RCU_KTHREAD_PRIO=15
CONFIG_RCU_BOOST_DELAY=331
CONFIG_RCU_NOCB_CPU=y
# CONFIG_RCU_NOCB_CPU_NONE is not set
# CONFIG_RCU_NOCB_CPU_ZERO is not set
CONFIG_RCU_NOCB_CPU_ALL=y

CONFIG_HAVE_CC_STACKPROTECTOR=y
CONFIG_CC_STACKPROTECTOR=y
# CONFIG_CC_STACKPROTECTOR_NONE is not set
CONFIG_CC_STACKPROTECTOR_REGULAR=y
# NOPE(?): potentially causes deterioration of sound output quality
# can be mitigated via DSEE HX & high resistance headphones
# raises coverage of functions from ~ 2.2% to 20+%
# see: 
# https://outflux.net/blog/archives/2014/01/27/fstack-protector-strong/
# https://mudongliang.github.io/2016/05/24/stack-protector.html
# https://wiki.debian.org/Hardening
# http://man7.org/linux/man-pages/man1/dpkg-buildflags.1.html
# CONFIG_CC_STACKPROTECTOR_STRONG is not set

# SLUB debugging, SLUB allocator validation checking
# CONFIG_SLUB_DEBUG is not set

# HEAP randomization
# Randomizing heap placement makes heap exploits harder, but it
# also breaks ancient binaries (including anything libc5 based).
# This option changes the bootup default to heap randomization disabled,
# and can be overridden at runtime by setting /proc/sys/kernel/randomize_va_space to 2.
# 
# On non-ancient distros (post-2000 ones) N is usually a safe choice.
#
# Dangerous; disables brk ASLR.
#
# CONFIG_COMPAT_BRK is not set

# Assists heap memory attacks; best to keep interface disabled.
# CONFIG_INET_DIAG is not set

# Dangerous; allows direct kernel memory writing.
# CONFIG_DEVKMEM is not set

# Dangerous; allows replacement of running kernel.
# CONFIG_KEXEC is not set

# Easily confused by misconfigured userspace, keep off.
# CONFIG_BINFMT_MISC is not set
# We use the modern PTY interface (devpts) only.
# CONFIG_LEGACY_PTYS is not set

# Potential sandbox hardening for chrome & webview sandboxes
CONFIG_NAMESPACES=y
CONFIG_UTS_NS=y
# CONFIG_USER_NS is not set
CONFIG_PID_NS=y
CONFIG_NET_NS=y
#

# seccomp-bpf
CONFIG_HAVE_ARCH_SECCOMP_FILTER=y
CONFIG_SECCOMP_FILTER=y
CONFIG_SECCOMP=y

# needs additional patches to cut down latency & other issues
# CONFIG_PM_WAKELOCKS_GC is not set

# Boeffla generic wakelock blocker
CONFIG_BOEFFLA_WL_BLOCKER=y

# CONFIG_CNSS is not set
# CONFIG_CNSS_PCI is not set

# let's temporarily disable Mirrorlink & MobiCore [boot bringup, stability, etc. testing]
# CONFIG_USB_MIRRORLINK is not set
# CONFIG_MOBICORE_SUPPORT is not set
# CONFIG_MOBICORE_API is not set

# disable 32bit support / ARMv7 cruft
# CONFIG_ARMV7_COMPAT is not set
# CONFIG_SWP_EMULATE is not set

# disable unsupported, old, unnecessary stuff
# disable CONFIG_PFT as it is unsupported [vulnerability, SELinux compromised]
# Disable the drivers/platform/msm/pft.c driver as it is unsupported by
# Qualcomm, and opens us up to a wide range of potential attack surfaces
# that has not been audited by anyone.
# 
# Qualcomm recommends that it be disabled, as it hooks into SELinux in
# some "interesting" ways, and the userspace portion of the code is not
# even part of the image.
#
# CONFIG_PFT is not set

# disable MMC test [data loss, vulnerability]
# Development driver that performs a series of reads and writes to a memory card in order to expose
# certain well known bugs in host controllers. The tests are executed by writing to the "test" file
# in debugfs under each card. Note that whatever is on your card will be overwritten by these tests.
# 
# CONFIG_MMC_TEST is not set
# CONFIG_MMC_BLOCK_TEST is not set

# disable SCSI UFS test driver
# This adds UFS Host controller unit-test framework.
# The UFS unit-tests register as a block device test utility to
# the test-iosched and will be initiated when the test-iosched will
# be chosen to be the active I/O scheduler.
#
# CONFIG_SCSI_UFS_TEST is not set
# CONFIG_IOSCHED_TEST is not set

# "enables malware protection component to log on-device software API activity"
# costs performance, perhaps drains battery and other things
# does this daemon even run ? or is it already deprecated and cruft ?!
# CONFIG_SEEMP_CORE is not set

# disable support for printing out the last state upon modem failure
# (sensitive data, also: non-Stock ROM, thus useless)
# CONFIG_AMSS_ERR_LOG is not set

# Sensors (SSC), needed for adaptive (automagic) brightness
# CONFIG_SENSORS is not set
# CONFIG_SENSORS_SSC is not set

# Webcam devices
# disable GSPCA external module drivers
# 
# CONFIG_USB_VIDEO_CLASS is not set
# CONFIG_USB_GSPCA is not set

# Disable /dev/port access "should not be used when PCI is being used"
# On arm64 systems, using /dev/port does not really make sense; this is
# historically used for other architectures to access ISA IO ports, which
# with any luck do not exist on arm64 platforms.  With the following snippet
# of perl code (from Jeff Bastian <jbastian@redhat.com>), we can reliably
# panic an arm64 system with PCI enabled:
#
	#!/usr/bin/perl -w
	# extracted from sensors-detect from lm_sensors
	# to reproduce kernel crash when probing the
	# Super-I/O ports
#	use Fcntl qw(:DEFAULT :seek);
#	sysopen(IOPORTS, "/dev/port", O_RDWR);
#	binmode(IOPORTS);
#	sysseek(IOPORTS, 0x2e, 0);
#	syswrite(IOPORTS, pack("C", 0x0d), 1);
#
#So, make sure CONFIG_DEVPORT cannot be set on arm64; it cannot really be
# used and it allows us to crash a kernel from user space.
#
# CONFIG_DEVPORT is not set

# only set evdev, NOT set evbug, keyreset, keycombo
#
CONFIG_INPUT_EVDEV=y
# CONFIG_INPUT_EVBUG is not set
# CONFIG_INPUT_KEYRESET is not set
# CONFIG_INPUT_KEYCOMBO is not set

# disable Ultrasound
#
# CONFIG_MSM_ULTRASOUND is not set

# disable support for Field firmware updates (FFU)
# there's not subsequent updates from Sony anymore
# keep it off [attack surface & issues, etc.]
#
# CONFIG_MMC_FFU is not set

# Emergency Download Mode
# reboot edl
#
# CONFIG_MSM_DLOAD_MODE is not set

#
# SPI Protocol Masters
#
CONFIG_SPI_SPIDEV=y
# CONFIG_SPI_TLE62X0 is not set
CONFIG_SPMI=y
CONFIG_SPMI_MSM_PMIC_ARB=y
CONFIG_MSM_QPNP_INT=y
# CONFIG_MSM_SPMI_DEBUGFS_RO is not set

# Sony Mobile FIPS AES-XTS/AES-CBC Driver
CONFIG_CRYPTO_DEV_SOMC_FIPS_KSCL=y

#
# Random Number Generation
#
CONFIG_CRYPTO_ANSI_CPRNG=y

# Remove TIMER_STATS it "exposes process information across namespaces"
# also disable it in config for good measure
#
# CONFIG_TIMER_STATS is not set

# Android (/ OS) IPC
# disable SYSVIPC since it's not used in Android - at all and can be abused
# causing the system to crash and other malicious attack surfaces
#
# CONFIG_SYSVIPC is not set
# CONFIG_IPC_LOGGING is not set

# Remove logging sources from production builds
#
# CONFIG_MSM_RTB is not set
# CONFIG_MSM_RTB_SEPARATE_CPUS is not set
# CONFIG_MSM_TZ_LOG is not set

# Debugging & other programmers' & developers' aids
#
CONFIG_HAVE_DEBUG_BUGVERBOSE=y
CONFIG_DEBUG_BUGVERBOSE=y
CONFIG_DEBUG_INFO=y
CONFIG_DEBUG_INFO_REDUCED=y
# CONFIG_DYNAMIC_DEBUG is not set # increases kernel size unnecessarily
CONFIG_KALLSYMS=y
CONFIG_KALLSYMS_ALL=y
CONFIG_PRINTK=y
CONFIG_PRINTK_TIME=y
CONFIG_RCU_CPU_STALL_TIMEOUT=60
# CONFIG_RCU_CPU_STALL_VERBOSE is not set
# CoreDump & logcat usefulness
CONFIG_ELF_CORE=y
CONFIG_SCHEDSTATS=y
CONFIG_SCHED_DEBUG=y
CONFIG_STACKTRACE=y
# Default off:
# CONFIG_DEBUG_VM is not set
# CONFIG_DEBUG_WRITECOUNT is not set
# CONFIG_DEBUG_MEMORY_INIT is not set
# CONFIG_DEBUG_LIST is not set
# CONFIG_TEST_LIST_SORT is not set
# CONFIG_DEBUG_SG is not set
# CONFIG_DEBUG_NOTIFIERS is not set

# we need this (?)
CONFIG_DEBUG_FS=y

# Perform additional validation of credentials.
CONFIG_DEBUG_CREDENTIALS=y

# ramp dumps, core dumps, etc. (besides elf_core)
# CONFIG_RAMDUMP_MEMDESC is not set
# CONFIG_RAMDUMP_TAGS is not set

# disable non-matching config entries & settings:
# CONFIG_ARCH_MSM8992 is not set
# CONFIG_RADIO_SILABS is not set

# disable unnecessary config entries:
# CONFIG_MSM_SMD_DEBUG is not set

# printk: disable the console flush in hotplug path
#
# The thread which initiates the hot plug can get scheduled
# out, while trying to acquire the console lock,
# thus increasing the hot plug latency. This option
# allows to selectively disable the console flush and
# in turn reduce the hot plug latency.
#
# CONFIG_CONSOLE_FLUSH_ON_HOTPLUG

# CPU Frequency scaling
#
CONFIG_CPU_FREQ=y
CONFIG_CPU_FREQ_GOV_COMMON=y
CONFIG_SCHED_FREQ_INPUT=y
CONFIG_CPU_FREQ_STAT=y
# CONFIG_CPU_FREQ_STAT_DETAILS is not set
CONFIG_CPU_FREQ_DEFAULT_GOV_PERFORMANCE=y
# CONFIG_CPU_FREQ_DEFAULT_GOV_POWERSAVE is not set
# CONFIG_CPU_FREQ_DEFAULT_GOV_USERSPACE is not set
# CONFIG_CPU_FREQ_DEFAULT_GOV_ONDEMAND is not set
# CONFIG_CPU_FREQ_DEFAULT_GOV_CONSERVATIVE is not set
# CONFIG_CPU_FREQ_DEFAULT_GOV_INTERACTIVE is not set
CONFIG_CPU_FREQ_GOV_PERFORMANCE=y
CONFIG_CPU_FREQ_GOV_POWERSAVE=y
CONFIG_CPU_FREQ_GOV_USERSPACE=y
CONFIG_CPU_FREQ_GOV_ONDEMAND=y
CONFIG_CPU_FREQ_GOV_INTERACTIVE=y
# CONFIG_CPU_FREQ_GOV_ELEMENTALX is not set
CONFIG_CPU_FREQ_GOV_BLU_ACTIVE=y
CONFIG_CPU_FREQ_GOV_RELAXED=y
CONFIG_CPU_FREQ_GOV_CHILL=y
CONFIG_CPU_FREQ_GOV_CONSERVATIVE=y
CONFIG_CPU_FREQ_GOV_ZZMOOVE=y


# CONFIG_GENERIC_CPUFREQ_CPU0 is not set

# MSM Hotplug Management (MSM_PERFORMANCE, CORE_CTL, CORE_CTL_HELPER)
# CONFIG_MSM_CORE_CTL is not set
# CONFIG_MSM_CORE_CTL_HELPER is not set
#
# hotplug is taken care of via core_ctl & cpu_input_boost, disable (upstream)
CONFIG_MSM_PERFORMANCE=y
# CONFIG_MSM_PERFORMANCE_HOTPLUG_ON is not set

CONFIG_CPU_QUIET=y
# CONFIG_CPU_QUIET_GOVERNOR_USERSPACE is not set
CONFIG_CPU_QUIET_GOVERNOR_RUNNABLE=y
CONFIG_CPU_QUIET_GOVERNOR_RQBALANCE=y
# CONFIG_CPU_QUIET_DEFAULT_GOV_USERSPACE is not set
CONFIG_CPU_QUIET_DEFAULT_GOV_RUNNABLE=y
# CONFIG_CPU_QUIET_DEFAULT_GOV_RQBALANCE is not set
CONFIG_CPU_QUIET_MSM=y

# Enable CPU_BOOST explicitly, we might disable this later
# Pick one: CPU_BOOST or CPU_INPUT_BOOST
#
# CONFIG_CPU_BOOST is not set
CONFIG_CPU_INPUT_BOOST=y

# ZRAM and related config entries
CONFIG_ZRAM=y
CONFIG_ZRAM_LZ4_COMPRESS=y
# CONFIG_ZRAM_DEBUG is not set # commented out by default

CONFIG_LZ4_COMPRESS=y
CONFIG_LZ4_DECOMPRESS=y

CONFIG_Z3FOLD=y
CONFIG_ZPOOL=y
CONFIG_ZSMALLOC=y
# CONFIG_PGTABLE_MAPPING is not set # commented out by default
# CONFIG_ZSMALLOC_STAT is not set # commented out by default

# PER-PROCESS RECLAIM
# this is mutually exclusive with zram
#
# CONFIG_PROCESS_RECLAIM is not set

# dynamic fsync: 
# While screen is on, file sync is suspended.
# When screen is off, a file sync is called to flush all outstanding writes
# and restore file sync operation as normal.
CONFIG_DYNAMIC_FSYNC=y
# CONFIG_PM_SYNC_BEFORE_SUSPEND is not set

# CPUIDLE and related
CONFIG_CPU_FREQ_MSM=y
CONFIG_CPU_IDLE=y
CONFIG_CPU_IDLE_MULTIPLE_DRIVERS=y
# CONFIG_CPU_IDLE_GOV_LADDER is not set
CONFIG_CPU_IDLE_GOV_MENU=y
# CONFIG_ARCH_NEEDS_CPU_IDLE_COUPLED is not set

# STATE NOTIFIER
# helper to detect & communicate system status, needed by various features
#
CONFIG_STATE_NOTIFIER=y

# Sony RIC
# can this be disabled on Stock ROMs without adverse effects on functionality ?
#
# CONFIG_SECURITY_SONY_RIC is not set

# DM VERITY
# not really compatible with a modded & customized Sony Stock ROM, kernel, etc. (?)
#
# CONFIG_DM_VERITY is not set
#
# the following might be useful for dm_crypt, thus encryption though (?)
# CONFIG_DM_BUFIO is not set

# Add WireGuard
# WireGuard is an extremely simple yet fast and modern VPN that utilizes
# state-of-the-art cryptography. It aims to be faster, simpler, leaner,
# and more useful than IPSec, while avoiding the massive headache.
# It intends to be considerably more performant than OpenVPN.
# WireGuard is designed as a general purpose VPN for VPN for running on
# embedded interfaces and super computers alike, fit for many different
# circumstances.
#
CONFIG_WIREGUARD=y

# Make use of newer & optimized crypto
#
CONFIG_CRYPTO_PCRYPT=y

# wakeup debugging, disable overhead (poll, potential vulnerability, etc.)
#
# CONFIG_PM_WAKEUP_TIMES is not set
# CONFIG_WAKEUP_IRQ_DEBUG is not set

# hardening, enhanced ASLR (randomization) & others
# CONFIG_ARM_ARCH_TIMER_VCT_ACCESS is not set
CONFIG_SYN_COOKIES=y
CONFIG_SECURITY_PATH=y # default
CONFIG_SECURITY_PERF_EVENTS_RESTRICT=y
CONFIG_SECURITY_YAMA=y
CONFIG_SECURITY_YAMA_STACKED=y
CONFIG_LSM_MMAP_MIN_ADDR=32768
CONFIG_DEFAULT_MMAP_MIN_ADDR=32768
CONFIG_ARCH_MMAP_RND_BITS=24
CONFIG_ARCH_MMAP_RND_BITS_MIN=18
CONFIG_ARCH_MMAP_RND_BITS_MAX=24
CONFIG_ARCH_MMAP_RND_COMPAT_BITS_MIN=11
CONFIG_ARCH_MMAP_RND_COMPAT_BITS_MAX=16
CONFIG_ILLEGAL_POINTER_VALUE=0xdead000000000000
CONFIG_KERNEL_TEXT_MPU_PROT=y

# basic rowhammer protection
# advanced ... needs more backporting
#
# CONFIG_NOHAMMER is not set


# remove unnecessary settings
#
#
# CONFIG_SMB349_DUAL_CHARGER is not set
# CONFIG_SMB135X_CHARGER is not set
# CONFIG_MEDIA_RADIO_SUPPORT is not set
# CONFIG_ATH_CARDS is not set
# CONFIG_DVB_MPQ is not set
# CONFIG_TSPP is not set
# CONFIG_TOUCHSCREEN_ATMEL_MAXTOUCH_TS is not set
# CONFIG_SCSI_UFSHCD is not set
# CONFIG_SCSI_SCAN_ASYNC is not set
# CONFIG_SCSI_TGT is not set
# CONFIG_TI_DRV2667 is not set
# CONFIG_QCOM_LIQUID_DOCK is not set
# CONFIG_FW_CACHE is not set
# CONFIG_CPU_FREQ_SWITCH_PROFILER is not set
# CONFIG_MSM_BOOT_STATS is not set

# ivy* only (kitakami v1/msm8994 v1) 
#
# CONFIG_ARCH_MSM8994_V1_TLBI_WA is not set

# cpu core / cluster handling, might need ROM-side changes
#
# CONFIG_CPUSETS is not set

# PowerEfficient Workqueues
# off by default
#
CONFIG_WQ_POWER_EFFICIENT_DEFAULT=y

#
# IO Schedulers
#
CONFIG_IOSCHED_NOOP=y
# CONFIG_IOSCHED_TEST is not set
CONFIG_IOSCHED_DEADLINE=y
CONFIG_IOSCHED_ROW=y
CONFIG_IOSCHED_CFQ=y
# CONFIG_DEFAULT_DEADLINE is not set
CONFIG_DEFAULT_ROW=y
# CONFIG_DEFAULT_CFQ is not set
# CONFIG_DEFAULT_NOOP is not set
CONFIG_DEFAULT_IOSCHED="row"

# FauxSound
# default = on
#
CONFIG_SOUND_CONTROL_HAX_3_GPL=y

# super-charged zen-tune
# try ondemand governor for gaming, etc.
#
CONFIG_ZEN_INTERACTIVE=y

CONFIG_ANDROID=y
CONFIG_ANDROID_BINDER_IPC=y
CONFIG_ANDROID_BINDER_DEVICES="binder,hwbinder"
# ,vndbinder
# CONFIG_ANDROID_BINDER_IPC_32BIT is not set
# CONFIG_ANDROID_BINDER_IPC_SELFTEST is not set

# timer rate
CONFIG_HZ_100=y
# CONFIG_HZ_250 is not set
# CONFIG_HZ_300 is not set
# CONFIG_HZ_1000 is not set
